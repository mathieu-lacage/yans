<html>

<head>
<title>Yet Another Network Simulator</title>
<link rel="stylesheet" href="./style.css" type="text/css">
</head>

<body>

<h1>Yet Another Network Simulator</h1>

<h2>Goals</h2>

<p>This network simulator has quite a few ambitious goals:
<ul>
  <li>provide a UDP/TCP IPv4 stack with multicast support.</li>
  <li>provide a nice network interface API to plug in various types of
     network interfaces.</li>
  <li>provide at least a CSMA-CD (ethernet) network interface and a 802.11
     network interface.</li>
  <li>provide a nice Packet API which can be used to support:
    <ul>
       <li>libpcap-style packet dumps</li>
       <li>injection and sniffing of real packets in and out of the simulator
         to and from a real network</li>
    </ul>
  </li>
   <li>provide an application-level API similar to normal POSIX environments
     to allow the porting of various classic socket-based applications.
     For example, apache and various routing daemons.</li>
</ul>
</p>

<p>The code for this simulator is covered by the 
<a href="http://www.gnu.org/copyleft/gpl.html">GPLv2</a> license.</p>

<h2>Get the code</h2>

<h3>Release 0.2</h3>

<p>This release features:
<ul>
   <li>ipv4 forwarding</li>
   <li>preliminary icmp support</li>
</ul>
Get it from <a href="releases/yans-0.2.tar.gz">yans-0.2.tar.gz</a>.
</p>

<h3>Previous releases</h3>

<p>A detailed listing of each release and what features were
added is available on the <a href="previous-releases.html">previous releases</a> page.
</p>

<h3>Development version</h3>

<p>The development version of this code is available from our 
<a href="http://www.selenic.com/mercurial/">mercurial</a> source code repository
located at <a href="http://spoutnik.inria.fr/code/yans">http://spoutnik.inria.fr/code/yans</a>.
You can browse our latest version online through the link shown above. You can also download
the complete development version together with its history and start working on it with the
following command (provided you have installed a copy of mercurial before):
<pre>
hg clone http://spoutnik.inria.fr/code/yans
</pre>
</p>

<h2>Use the code</h2>

<p>Our reference sample test application is located in the 
src/samples/main-simple.cc file. This file creates a simple
udp simulation scenario between a udp source and a udp sink located
on two hosts connected to the same ipv4 subnet through the same
ethernet network.
</p>
<pre>
	/* setup the ethernet network itself. */
	EthernetNetworkInterface *eth_client, *eth_server;
	eth_client = new EthernetNetworkInterface ();
	eth_server = new EthernetNetworkInterface ();
	eth_client->set_mac_address (MacAddress ("00:00:00:00:00:01"));
	eth_server->set_mac_address (MacAddress ("00:00:00:00:00:02"));
	Cable *cable = new Cable ();
	cable->connect_to (eth_client);
	cable->connect_to (eth_server);
	cable->unref ();

	/* associate ipv4 addresses to the ethernet network elements */
	eth_client->set_ipv4_address (Ipv4Address ("192.168.0.3"));
	eth_client->set_ipv4_mask (Ipv4Mask ("255.255.255.0"));
	eth_server->set_ipv4_address (Ipv4Address ("192.168.0.2"));
	eth_server->set_ipv4_mask (Ipv4Mask ("255.255.255.0"));
	eth_client->set_up ();
	eth_server->set_up ();

	/* create hosts for the network elements*/
	Host *hclient, *hserver;
	hclient = new Host ("client");
	hserver = new Host ("server");
	//hclient->get_tracer ()->enable_all ();
	//hserver->get_tracer ()->enable_all ();
	hclient->add_interface (eth_client);
	hserver->add_interface (eth_server);
	eth_client->get_tracer ()->enable_all ();
	eth_server->get_tracer ()->enable_all ();

	/* setup the routing tables. */
	hclient->get_routing_table ()->set_default_route (Ipv4Address ("192.168.0.2"),
							  eth_client);
	hserver->get_routing_table ()->set_default_route (Ipv4Address ("192.168.0.3"),
							  eth_server);

	/* start applications. */
	UdpSource *source = new UdpSource (hclient);
	source->bind (Ipv4Address ("192.168.0.3"), 1025);
	source->set_peer (Ipv4Address ("192.168.0.2"), 1026);
	source->set_packet_interval (0.01);
	source->set_packet_size (100);
	source->start_at (1.0);
	source->stop_at (10.0);

	UdpSink *sink = new UdpSink (hserver);
	sink->bind (Ipv4Address ("192.168.0.2"), 1026);

	/* run simulation */
	Simulator::instance ()->run ();

	/* destroy network */
	delete source;
	delete sink;
	delete hclient;
	delete hserver;
	Simulator::instance ()->destroy ();
</pre>

<h2>Contact/Contributions</h2>

<p>If you are interested in this code and you would like to contact the authors,
feel free to email Mathieu Lacage (mathieu.lacage@sophia.inria.fr).
</p>

</body>
</html>
